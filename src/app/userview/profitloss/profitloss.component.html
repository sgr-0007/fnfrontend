<div class="card">
    <div class="mb-3 moduleheaderbg">
  <span class="moduleheadertext">Income and Expenditure Report</span>
    </div>
    <div class="row">
        <div class="col md-2">
            <label for="voucherfromdate">From Date</label>
     
             <p-calendar name="voucherfromdate" [maxDate]="dateTime" dateFormat="dd.mm.yy" [(ngModel)]="plForDialog.voucherfromdate" [showIcon]="true"  appendTo="body" ></p-calendar>
     
     </div>
     <div class="col md-2">
         <label for="vouchertodate">To Date</label>
     
         <p-calendar name="vouchertodate" [maxDate]="dateTime" dateFormat="dd.mm.yy"  appendTo="body"  [(ngModel)]="plForDialog.vouchertodate" [showIcon]="true" [style]="{'overflow': 'visible', 'z-index': '999'}"></p-calendar>
     
     </div>
        <div class="col md-2">
            <p-button label="Generate I/E " (onClick)="generatePLReport()"></p-button>
            </div>
            <div class="col md-4 ">
                <div class="row ms-3"> Current Financial Year 2023-2024</div>
                <div class="row ms-3"> Period 01-Apr-2023 to 31-Mar-2024</div>
            </div>
 
    </div>
    <div class="row">
        <p-table #dt [value]="profitLoss"  [paginator]="false"  [showCurrentPageReport]="true" 
    styleClass="myTable" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[5,10,50]"
    dataKey="ledgerid" editMode="row" [exportHeader]="'customExportHeader'">
    <ng-template pTemplate="caption">
     <div class="row">       
       <div class="tablename">Income and Expenditure</div>
    </div>
   </ng-template>
   <ng-template pTemplate="header"></ng-template>
   
           <ng-template pTemplate="header" >
         <tr>
             <th>Particulars</th>
             <th>Debit</th>
             <th>Credit</th>


   
         </tr>
     </ng-template>
     <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex">
       <tr [pEditableRow]="rowData">
         <td>
           <p-cellEditor>
               <ng-template pTemplate="input">
                   <input pInputText type="text" [(ngModel)]="rowData.ledgeralias">
               </ng-template>
               <ng-template pTemplate="output">
                   {{rowData.ledgeralias}}
               </ng-template>
           </p-cellEditor>
       </td>
         <td>
             <p-cellEditor>
                 <ng-template pTemplate="input">
                     <input pInputText type="text" [(ngModel)]="rowData.debitamount">
                 </ng-template>
                 <ng-template pTemplate="output">
                     {{rowData.debitamount}}
                 </ng-template>
             </p-cellEditor>
         </td>
         <td>
           <p-cellEditor>
               <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="rowData.creditamount">

               </ng-template>
               <ng-template pTemplate="output">
                   {{rowData.creditamount}}
               </ng-template>
           </p-cellEditor>
       </td>
     </tr>
     </ng-template>
     <ng-template pTemplate="footer">
        <tr>
          <td >Total Expenses:</td>
          <td>₹{{totaldebitamountt}}</td>          
      </tr>
      <tr>
        <ng-container *ngIf="isProfit">
            <td>Net Income: 
            </td>
            <td></td>     
            <td>₹{{total}}</td>
        </ng-container>
                <ng-container *ngIf="isLoss">
            <td>Net Expenditure: 
            </td>
            <td>₹{{total}}</td>     
            <td></td>
        </ng-container>

    </tr>
    
      </ng-template>
   </p-table>


    </div>


</div>